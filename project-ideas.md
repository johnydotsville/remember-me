# Идеи

- [ ] Сделать фильтрацию по нескольким категориям, чтобы в меню категории были чекбоксами, а не кнопками.
- [ ] Сделать "лесенкой" категории, чтобы было видно вложенность.
- [ ] ??? Мб объединить задачи и заметки в одну программу?
- [x] Добавить в папки с задачами файл tags, в котором можно было бы перечислить дополнительные маркеры, по которым можно было бы фильтровать задачи. Пока достаточно чтобы это было в виде набора слов, например "легко, средне, сложно, важное, http" и т.д. Эти слова будут куда-нибудь выводиться, чтобы была возможность сортировать не только по категориям, но и по этим тегам.
  - [x] Сделал файл meta.json, там пока title и tags.
  - [x] Добавить в "незадачные" директории тоже meta с названием и тэгами. И сделать чтобы все тэги, относящиеся к директории, добавлялись к тэгам задачи.
- [x] Сделать стили, чтобы по умолчанию все было в темной теме. Потом можно сделать разные стили для тем и возможность переключаться между ними.
  - [ ] Доработать стилизацию до более адекватного вида.
- [ ] Сделать возможность добавлять несколько вариантов решения. В интерфейсе должна быть возможность выбрать, какой вариант посмотреть.
- [ ] Сделать возможность добавлять к решению комментарии. Например, рядом с файлом решения класть md с комментариями или еще как-то.
- [x] Сделать кнопку выбора случайной задачи, которую надо решить, чтобы не искать вручную.
- [x] Сделать кнопку сброса фильтрации, чтобы снова отображались все задачи.
- [x] Сделать что-то с названиями, чтобы они были более читаемые.
- [ ] На аккордеоне с задачами добавить кнопки "Решил", "Не решил" и чтобы было показано, сколько дней назад работал с этой задачей.
  - [ ] Можно добавить кнопки запуска и стопа, чтобы замерять примерное время, ушедшее на решение.
- [x] Обернуть текст условия в аккордеон, который при раскрытии задачи тоже должен раскрываться сам.
  - [x] При раскрытии любого внутреннего аккордеона (решение \ шаблон) остальные аккордеоны должны сворачиваться.
  - [x] При раскрытии задачи остальные задачи должны закрываться.
- [x] id задач брать как 16 символов хэша от директории задачи.
  - [x] Добавить задаче папку как было, на случай если мета не задана и имени у задачи нет, надо отображать имя папки, а не идентификатор. 
  - [x] Добавить на аккордеон кнопку с технической информацией о задаче, где она лежит, какие у нее теги и т.д. Где она лежит надо знать, чтобы иметь возможность найти задачу, если ее надо исправить.
- [x] Сделать, чтобы задачи в пределах одной тренировочной сессии не повторялись.
- [x] Сделать чтобы решенные сегодня задачи в общем списке отображались с галочкой например.
  - [x] Поправить, чтобы галочка была перед названием задачи, а не в конце
- [x] Окно задачи
  - [x] Задача должна открываться в большом модальном окне.
  - [x] Список задач теперь является не раскрывающимся спойлером, а кнопкой.
- [ ] Боковое меню с кнопками фильтров, выбором рандомной задачи при прокрутке должно оставаться на месте.
- [ ] Решенные задачи должны не только иметь галочку, но и другой цвет обводки \ фон. Нерешенные тоже.
  - [ ] Задачи, которые "хочу повторить" должны отмечаться отдельным цветом, оранжевым например.
- [ ] Добавить кнопку сортировки задачи по решенным \ нерешенным.
- [ ] Добавить в окно задачи техническую информацию - где лежит и теги.
- [ ] Перед списком задач вывести статистику - сколько решено, сколько не решено.

# Баги

- [x] Всратый http.
  * Какой-то странный баг. Если вложить в папку javascript еще папку, а в нее задачу, тогда мета почему-то становится undefined. Возможно это как-то зависит от вложенности, но не понятно как, потому что если вкладывать в другие папки, то работает.
    * Пропустил await внутри цикла.





# Алгоритм приоритетов задач

Чтобы задачи выпадали равномерно, но при этом легкие не мешались регулярно под ногами и не вытесняли более сложные, взята такая схема:

* У задачи есть базовый приоритет `bp` (base priority).
  * Изначально у всех задач он 1.
  * Этот приоритет динамический, на него влияет оценка пользователя после решения.
  * У новых задач, которые еще вообще не решались, приоритет наивысший, т.к. задачу нужно решить и получить оценку от пользователя как можно скорее, чтобы "откалибровать" ее место среди остальных.
* После решения задачи пользователь выставляет ей оценку `r` (rating).
  * Возможные оценки.
    * Очень легко.
    * Легко.
    * Нормально.
    * Выше среднего.
    * Сложно.
    * Не решил.
  * Оценка изменяет базовый приоритет по формуле `bp * r`
  * Адекватные значения r надо экспериментально подобрать.
  * "Легкие" оценки охлаждают задачу, чтобы она появлялась реже. "Тяжелые" оценки разогревают задачу, чтобы она появлялась чаще.
* То, как давно решалась задача, влияет на текущий приоритет `cp` (current priority).
  * Формула `cp = bp * (1 + k * дней_без_показа)`.
  * k - коэффициент влияния дней на приоритет. Чем ниже коэффициент, тем меньше "давность" влияет на вероятность появления задачи.