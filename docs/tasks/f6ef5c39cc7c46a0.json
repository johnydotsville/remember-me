{
  "id": "f6ef5c39cc7c46a0",
  "name": "task-macbook-air-price-report_position-sticky",
  "path": "tasks\\css\\position\\task-macbook-air-price-report_position-sticky",
  "title": "Анализ динамики цен на Macbook Air M3",
  "description": "Из отдела маркетинга поступила задача проанализировать динамику цен на ноутбук Apple Macbook Air M3. Программисты сделали скрипт, а оформление отчета поручили вашему стажеру. Он в целом хорошо справился с работой и сделал основные стили.\r\n\r\nНо маркетологам не понравилось, что при прокрутке страницы заголовки столбцов исчезают. Стажер не смог сделать эту задачу и попросил у вас помощи.\r\n\r\n### Задача\r\n\r\n- Допишите стили, чтобы заголовки столбцов таблицы при прокрутке оставались наверху экрана.\r\n  - И цвет заголовкам поставьте например lightgray.\r\n- UPD. Маркетологам понравилась высокая детализация цен, но они жалуются, что для того чтобы прочитать выводы, нужно долго листать страницу, пока вся таблица не закончится. У одного даже сломалось колесиок мышки.\r\n  - Перепишите стили, чтобы таблица была высотой 400px и листалась внутри. Заголовки столбцов все еще должно быть видно.\r\n  - UPD. Дизайнер заметил, что при скролле наверху таблицы появляется щель в 1px, через которую видно контент таблицы при скролле. Нужно исправить, чтобы ее не было видно.\r\n- Объясните стажеру решения обеих задач, чтобы он впоследствии мог делать подобное самостоятельно.",
  "template": "<!DOCTYPE html>\r\n<html lang=\"ru\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Отчет с прокручиваемой таблицей</title>\r\n  <style>\r\n    body {\r\n      font-family: Arial, sans-serif;\r\n      line-height: 1.6;\r\n      max-width: 1000px;\r\n      margin: 0 auto;\r\n      padding: 20px;\r\n      color: #333;\r\n    }\r\n    \r\n    .table-container {\r\n      border: 1px solid #ddd;\r\n      margin: 20px 0;\r\n    }\r\n    \r\n    table {\r\n      width: 100%;\r\n      border-collapse: collapse;\r\n    }\r\n    \r\n    th, td {\r\n      border: 1px solid #ddd;\r\n      padding: 10px;\r\n      text-align: left;\r\n    }\r\n    \r\n    tr:nth-child(even) {\r\n      background-color: #f9f9f9;\r\n    }\r\n    \r\n    .positive {\r\n      color: green;\r\n    }\r\n    \r\n    .negative {\r\n      color: red;\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <div class=\"report-section\">\r\n    <h1>Аналитический отчет по рынку ноутбуков 2024</h1>\r\n    <p>В первом квартале 2024 года наблюдались значительные колебания цен на технику Apple. Ниже представлен детальный анализ динамики цен на модель MacBook Air M3, который демонстрирует реакцию рынка на ключевые события.</p>\r\n  </div>\r\n  \r\n  <div class=\"table-container\">\r\n    <table id=\"priceTable\">\r\n      <thead>\r\n        <tr>\r\n          <th>Дата</th>\r\n          <th>Цена (USD)</th>\r\n          <th>Динамика</th>\r\n          <th>Комментарий</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody id=\"tableBody\">\r\n        <!-- Данные будут добавлены через JS -->\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  \r\n  <div class=\"report-section\">\r\n  <h2>Выводы и рекомендации</h2>\r\n  <p>Анализ динамики цен на MacBook Air M3 в 2024 году выявил несколько любопытных закономерностей, которые могут быть полезны как розничным покупателям, так и оптовым закупщикам. В течение года наблюдались выраженные сезонные колебания, обусловленные как маркетинговой политикой Apple, так и общими рыночными тенденциями в сегменте премиальных ноутбуков.</p>\r\n  <p>Наиболее значительное падение цен, как и ожидалось, пришлось на период \"Черной пятницы\" - в последнюю неделю ноября скидки достигали 15% от стандартной розничной цены. Однако менее очевидным оказался февральский ценовой провал, когда после анонса новых моделей MacBook Pro рынок отреагировал снижением цен на Air-линейку в среднем на 8%. Этот период может считаться одним из наиболее выгодных для покупки, особенно учитывая, что весенний ценовой отскок составил около 6% уже к середине марта.</p>\r\n  <p>Третий квартал продемонстрировал относительную стабильность ценовой политики, однако начало учебного сезона в августе-сентябре вызвало кратковременный, но заметный рост спроса, что привело к повышению среднерыночной цены примерно на 4-5% относительно летних значений. Любопытно, что после официального старта учебного года в большинстве регионов цены достаточно быстро вернулись к докризисным значениям, что свидетельствует о хорошо просчитанной маркетинговой стратегии Apple.</p>\r\n  <p>Для розничных покупателей можно рекомендовать два оптимальных периода для приобретения MacBook Air M3: последняя неделя января - первая половина февраля (после новогоднего спроса и перед весенним оживлением рынка) и последняя декада октября - третья неделя ноября (предпраздничные скидки перед Black Friday). Для корпоративных закупщиков и реселлеров особый интерес может представлять период середины мая, когда после традиционного весеннего спада спроса некоторые дистрибьюторы начинают предлагать дополнительные скрытые скидки для очистки складов перед летним сезоном.</p>\r\n  <p>Отдельного внимания заслуживает ценовая динамика в период летних месяцев. Несмотря на отсутствие официальных скидок со стороны Apple, многие авторизованные реселлеры в июне-июле начинают предлагать дополнительные бонусы (бесплатные аксессуары, расширенную гарантию), что фактически снижает конечную стоимость пакета. Этот фактор не всегда очевиден при анализе чистых ценовых графиков, но может существенно повлиять на итоговую выгоду покупателя.</p>\r\n</div>\r\n\r\n  <script>\r\n    document.addEventListener('DOMContentLoaded', function() {\r\n      const tableBody = document.getElementById('tableBody');\r\n      const startDate = new Date('2024-01-01');\r\n      const endDate = new Date('2024-12-31');\r\n      let currentDate = new Date(startDate);\r\n      \r\n      let currentPrice = 1099;\r\n      let previousPrice = currentPrice;\r\n      const events = {\r\n        '2024-01-15': 'Анонс новых моделей',\r\n        '2024-05-18': 'День рождения Apple',\r\n        '2024-06-10': 'WWDC 2024',\r\n        '2024-09-10': 'Презентация iPhone 16',\r\n        '2024-11-25': 'Черная пятница'\r\n      };\r\n      \r\n      while (currentDate <= endDate) {\r\n        const dateStr = currentDate.toISOString().split('T')[0];\r\n        let comment = '';\r\n        \r\n        if (Math.random() > 0.85 || currentDate.getDate() === 1 || events[dateStr]) {\r\n          const changePercent = (Math.random() * 6 - 3);\r\n          const changeAmount = Math.round(currentPrice * changePercent / 100);\r\n          currentPrice = Math.max(800, currentPrice + changeAmount);\r\n          \r\n          if (events[dateStr]) {\r\n            comment = events[dateStr];\r\n            if (dateStr === '2024-11-25') {\r\n              currentPrice = Math.max(800, currentPrice - 150);\r\n            } else if (dateStr === '2024-05-18') {\r\n              currentPrice = Math.max(800, currentPrice - 50);\r\n            }\r\n          }\r\n        }\r\n        \r\n        const change = currentPrice - previousPrice;\r\n        let changeStr = '';\r\n        let changeClass = '';\r\n        \r\n        if (change > 0) {\r\n          changeStr = `+\\${change}`;\r\n          changeClass = 'positive';\r\n        } else if (change < 0) {\r\n          changeStr = `\\${change}`;\r\n          changeClass = 'negative';\r\n        } else {\r\n          changeStr = '0';\r\n        }\r\n        \r\n        const row = document.createElement('tr');\r\n        row.innerHTML = `\r\n          <td>\\${dateStr}</td>\r\n          <td>$\\${currentPrice}</td>\r\n          <td class=\"\\${changeClass}\">\\${changeStr}</td>\r\n          <td>\\${comment}</td>\r\n        `;\r\n        \r\n        tableBody.appendChild(row);\r\n        previousPrice = currentPrice;\r\n        currentDate.setDate(currentDate.getDate() + 1);\r\n      }\r\n    });\r\n  </script>\r\n</body>\r\n</html>",
  "solution": "// Решение 1: \"полноэкранная\" таблица\r\n<style>\r\n  th {\r\n    background-color: lightgray;\r\n    position: sticky;\r\n    top: 0;\r\n  }\r\n</style>\r\n\r\n\r\n// Решение 2: Таблица 400px\r\n<style>\r\n  .table-container {\r\n    /* ... остальное */\r\n    height: 400px;\r\n    overflow-y: scroll;\r\n  }\r\n</style>\r\n\r\n\r\n// Решение 3: Устранение щели\r\n<style>\r\n  th {\r\n    top: -1px;  /* Чуть смещаем заголовки, чтобы перекрыть щель */\r\n  }\r\n</style>",
  "templateLang": ".html",
  "solutionLang": ".html",
  "categories": [
    "css",
    "position"
  ],
  "tags": [
    "position:sticky",
    "position",
    "позиционирование",
    "css"
  ]
}