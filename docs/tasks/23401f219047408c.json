{
  "id": "23401f219047408c",
  "name": "task-year-bonus-calculation_call",
  "path": "tasks\\javascript\\functions\\task-year-bonus-calculation_call",
  "title": "Расчет годовых премий сотрудникам",
  "description": "Близится конец года и нужно рассчитать премии для сотрудников. Вы помните, что где-то в программе был объект с нужной формулой. Вы поручили стажеру найти  этот объект и выделить формулу в отдельную функцию для удобства. Стажер нашел объект:\r\n\r\n```javascript\r\nconst user1 = {\r\n  name: 'Bob',\r\n  salary: 10000,\r\n  yearsOfService: 5,\r\n  calcBonus(minBonus = 0, maxBonusPercent = 0) {\r\n    if (typeof this.salary !== 'number' || typeof this.yearsOfService !== 'number' || \r\n      this.salary < 0 || this.yearsOfService < 0 || minBonus < 0 || maxBonusPercent < 0) {\r\n    return 0;\r\n    }\r\n\r\n    const baseBonus = 0.1;\r\n    const logBonus = 0.05 * Math.log(this.yearsOfService + 1);\r\n    const loyaltyMultiplier = 1 + (this.yearsOfService / 20);\r\n    \r\n    let bonus = this.salary * (baseBonus + logBonus) * loyaltyMultiplier;\r\n\r\n    if (minBonus > 0 && bonus < minBonus) {\r\n      bonus = minBonus;\r\n    }\r\n\r\n    if (maxBonusPercent > 0) {\r\n      bonus = bonus * (1 - maxBonusPercent / 100);\r\n    }\r\n\r\n    return Math.round(bonus);\r\n  }\r\n}\r\n```\r\n\r\nИ, не долго думая, создал такую функцию и отдал вам:\r\n\r\n```javascript\r\nfunction calcBonus(minBonus = 0, maxBonusPercent = 0) {\r\n  if (typeof this.salary !== 'number' || typeof this.yearsOfService !== 'number' || \r\n      this.salary < 0 || this.yearsOfService < 0 || minBonus < 0 || maxBonusPercent < 0) {\r\n    return 0;\r\n  }\r\n\r\n  const baseBonus = 0.1;\r\n  const logBonus = 0.05 * Math.log(this.yearsOfService + 1);\r\n  const loyaltyMultiplier = 1 + (this.yearsOfService / 20);\r\n  \r\n  let bonus = this.salary * (baseBonus + logBonus) * loyaltyMultiplier;\r\n\r\n  if (minBonus > 0 && bonus < minBonus) {\r\n    bonus = minBonus;\r\n  }\r\n\r\n  if (maxBonusPercent > 0) {\r\n    bonus = bonus * (1 - maxBonusPercent / 100);\r\n  }\r\n\r\n  return Math.round(bonus);\r\n}\r\n```\r\n\r\nУ вас еще будет время дать ему по пальцам за такое. Но пока что у вас нет времени рефакторить и придется пользовать этой стажерской функцией.\r\n\r\n### Задача\r\n\r\n* Для каждого сотрудника в массиве выведите в консоль положенную ему премию с учетом коррекций на этот год:\r\n\r\n```javascript\r\nconst adjustments = [0, 25];\r\n```\r\n\r\n",
  "template": "function calcBonus(minBonus = 0, maxBonusPercent = 0) {\r\n  if (typeof this.salary !== 'number' || typeof this.yearsOfService !== 'number' || \r\n      this.salary < 0 || this.yearsOfService < 0 || minBonus < 0 || maxBonusPercent < 0) {\r\n    return 0;\r\n  }\r\n\r\n  const baseBonus = 0.1;\r\n  const logBonus = 0.05 * Math.log(this.yearsOfService + 1);\r\n  const loyaltyMultiplier = 1 + (this.yearsOfService / 20);\r\n  \r\n  let bonus = this.salary * (baseBonus + logBonus) * loyaltyMultiplier;\r\n\r\n  if (minBonus > 0 && bonus < minBonus) {\r\n    bonus = minBonus;\r\n  }\r\n\r\n  if (maxBonusPercent > 0) {\r\n    bonus = bonus * (1 - maxBonusPercent / 100);\r\n  }\r\n\r\n  return Math.round(bonus);\r\n}\r\n\r\nconst employees = [\r\n  { fullName: \"John Smith\", department: \"Marketing\", yearsOfService: 1, salary: 50000 },\r\n  { fullName: \"Emily Johnson\", department: \"HR\", yearsOfService: 2, salary: 55000 },\r\n  { fullName: \"Michael Brown\", department: \"Sales\", yearsOfService: 5, salary: 70000 },\r\n  { fullName: \"Sarah Davis\", department: \"IT\", yearsOfService: 7, salary: 85000 },\r\n  { fullName: \"Robert Wilson\", department: \"Finance\", yearsOfService: 10, salary: 90000 },\r\n  { fullName: \"Jessica Martinez\", department: \"Engineering\", yearsOfService: 15, salary: 110000 },\r\n  { fullName: \"David Anderson\", department: \"Management\", yearsOfService: 20, salary: 130000 },\r\n  { fullName: \"Lisa Taylor\", department: \"R&D\", yearsOfService: 25, salary: 150000 }\r\n];\r\n\r\nconst adjustments = [0, 25];",
  "solution": "employees.forEach(emp => console.log(`Годовой бонус для \\${emp.fullName}: ` + calcBonus.call(emp, ...adjustments)));",
  "templateLang": ".ts",
  "solutionLang": ".ts",
  "categories": [
    "javascript",
    "functions"
  ],
  "tags": [
    "call",
    "functions",
    "javascript"
  ]
}